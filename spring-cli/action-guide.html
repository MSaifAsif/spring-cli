<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Action Guide :: Spring CLI</title>
    <link rel="prev" href="action-file-overview.html">
    <link rel="next" href="readme-command-guide.html">
    <meta name="generator" content="Antora 3.0.0">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="stylesheet" href="../_/css/vendor/docsearch.css">
    <link rel="stylesheet" href="../_/css/vendor/spring-tabs.css">

    <meta name="version" content="1.0.0">
    <meta name="component" content="spring-cli">
    <link rel="icon" href="../_/img/favicon.ico" type="image/vnd.microsoft.icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://spring.io">
        <img
          id="springlogo"
          class="block"
          src="../_/img/spring-logo.svg"
          alt="Spring"
        />
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Why Spring</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/why-spring"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/microservices"
            >Microservices</a>
            <a
              class="navbar-item"
              href="https://spring.io/reactive"
            >Reactive</a>
            <a class="navbar-item" href="https://spring.io/event-driven">Event
              Driven</a>
            <a class="navbar-item" href="https://spring.io/cloud">Cloud</a>
            <a class="navbar-item" href="https://spring.io/web-applications">Web
              Applications</a>
            <a
              class="navbar-item"
              href="https://spring.io/serverless"
            >Serverless</a>
            <a class="navbar-item" href="https://spring.io/batch">Batch</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Learn</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://spring.io/learn">Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/quickstart"
            >Quickstart</a>
            <a class="navbar-item" href="https://spring.io/guides">Guides</a>
            <a class="navbar-item" href="https://spring.io/blog">Blog</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown" style="min-width: 280px">
            <a
              class="navbar-item"
              href="https://spring.io/projects"
            >Overview</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-boot"
            >Spring Boot</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-framework"
            >Spring Framework</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud"
            >Spring Cloud</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-cloud-dataflow"
            >Spring Cloud Data Flow</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-data"
            >Spring Data</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-integration"
            >Spring Integration</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-batch"
            >Spring Batch</a>
            <a
              class="navbar-item"
              href="https://spring.io/projects/spring-security"
            >Spring Security</a>
            <a
              class="navbar-item navbar-item-special"
              href="https://spring.io/projects"
            >View all projects</a>
            <a class="navbar-item" href="https://spring.io/tools">Spring Tools 4</a>
            <a
              class="navbar-item navbar-item-special-2"
              href="https://start.spring.io"
            >Spring Initializr
              <svg
                class="external-link-icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 16 16"
              ><polyline
                  points="15 10.94 15 15 1 15 1 1 5.06 1"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><polyline
                  points="8.93 1 15 1 15 7.07"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></polyline><line
                  x1="15"
                  y1="1"
                  x2="8"
                  y2="8"
                  fill="none"
                  stroke="currentColor"
                  stroke-miterlimit="10"
                  stroke-width="2"
                ></line></svg></a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Academy</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.academy/courses"
            >Courses</a>
            <a
              class="navbar-item"
              href="https://spring.academy/learning-path"
            >Get Certified</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Support</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://spring.io/support">Overview</a>
            <a class="navbar-item" href="https://spring.io/security">Security
              Advisories</a>
          </div>
        </div>

        <div class="navbar-item has-dropdown is-hoverable is-community">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a
              class="navbar-item"
              href="https://spring.io/community"
            >Overview</a>
            <a class="navbar-item" href="https://spring.io/events">Events</a>
            <a class="navbar-item" href="https://spring.io/team">Team</a>
          </div>
        </div>
      </div>
    </div>
    <label class="theme-toggler">
      <input
        type="checkbox"
        type="checkbox"
        id="switch-theme-checkbox"
        name="switch-theme-checkbox"
      />
      <span class="icon"><svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="moon"
          class="svg-inline--fa fa-moon moon"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 384 512"
        ><path
            fill="currentColor"
            d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"
          ></path>
        </svg>
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="sun"
          class="svg-inline--fa fa-sun sun"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        ><path
            fill="currentColor"
            d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"
          ></path>
        </svg></span>
      <span class="text">light</span>
    </label>
  </nav>
</header>
<script>
!function (theme) {
  if (theme === 'dark') {
    document.getElementById('switch-theme-checkbox').parentElement.classList.add('active')
  }
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'))
</script><div class="body">
<div class="nav-container" data-component="spring-cli" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">spring-cli</span>
  <span class="version">1.0.0-SNAPSHOT</span>
</div><ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="getting-started.html">Getting Started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="creating-new-projects.html">Creating New Projects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="registering-new-projects.html">Registering Projects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="adding-to-existing-projects.html">Adding to Existing Projects</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="boot-add-guide.html">Using "boot add"</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ai-guide.html">Using to "ai commands"</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="user-command-guide.html">User defined commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="action-file-overview.html">Overview of Action Files</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="action-guide.html">Guide to Actions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="readme-command-guide.html">Guide to README commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="key-concepts.html">Key Concepts</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="comments-on-the-approach.html">Comments on the approach</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="initializr.html">Initializr</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="glossary.html">Glossary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Commands</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/boot-add.html">boot add</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/boot-new.html">boot new</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/help.html">help</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/stacktrace.html">stacktrace</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/clear.html">clear</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/quit.html">quit</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/completion-bash.html">completion bash</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/history.html">history</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/version.html">version</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/script.html">script</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/command-remove.html">command remove</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/command-add.html">command add</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/command-new.html">command new</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/config-list.html">config list</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/config-unset.html">config unset</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/config-set.html">config set</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/github-auth-status.html">github auth status</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/github-auth-login.html">github auth login</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/github-auth-logout.html">github auth logout</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/initializr-remove.html">initializr remove</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/initializr-list.html">initializr list</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/initializr-set.html">initializr set</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/initializr-dependencies.html">initializr dependencies</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/initializr-new.html">initializr new</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/catalog-add.html">catalog add</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/catalog-list.html">catalog list</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/catalog-remove.html">catalog remove</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/project-list.html">project list</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/project-add.html">project add</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands/project-remove.html">project remove</a>
  </li>
</ul>
  </li>
</ul>
        </nav>
      </div>
    </div>
<ul id="nav-versions" class="nav-versions">
  <li class="component is-current">
    <a class="title" href="index.html">spring-cli</a>
    <ul class="versions">
      <li class="version is-current is-latest">
        <a href="index.html">
          1.0.0-SNAPSHOT<span class="current">current</span>
        </a>
      </li>
    </ul>
  </li>
</ul>
    <div class="resize-handle--x"><span></span></div>
  </aside>
</div><main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title="Action Guide"
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
      <div class="edit-this-page"><a href="https://github.com/spring-projects-experimental/spring-cli/edit/main/docs/modules/ROOT/pages/action-guide.adoc">Edit this Page</a></div>
      </div>
</aside><div class="doc">
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">spring-cli</a></li>
    <li><a href="action-guide.html">Guide to Actions</a></li>
  </ul>
</nav>
<article>
<h1 id="page-title" class="page">Action Guide</h1>
<div class="sect1">
<h2 id="_generate"><a class="anchor" href="#_generate"></a>Generate</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>generate</code> action is used to generate files.  It requires a <code>to</code> key to specify the destination path.
The path is relative where the user-defined command was executed.  If the file already exists, it will not be overwritten.</p>
</div>
<div class="paragraph">
<p>The content of the file is defined using the <code>text</code> key.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s a simple example of the <code>generate</code> action is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">actions:
  - generate:
      to:  hello.txt
      text: Hello {{user-name}} on {{os-name}}.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The variables <code>{{user-name}}</code> and `{{os-name}} will be replaced with actual values using the Handlebars template engine.
Command line options passed to user-defined command are exposed as variables to be used by the template engine.</p>
</div>
<div class="paragraph">
<p>For more information on predefined template engine variables, refer to the <a href="user-command-guide.html#_template_engine" class="xref page">Template Engine</a> section.</p>
</div>
<div class="sect2">
<h3 id="_literal_syntax"><a class="anchor" href="#_literal_syntax"></a>Literal syntax</h3>
<div class="paragraph">
<p>YAML&#8217;s literal syntax allows representing multi-line strings or preserving formatting and whitespace within a string.</p>
</div>
<div class="paragraph">
<p>The literal syntax is useful when you want to maintain line breaks, indentation, but some special characters must be escaped with a slash character.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example of using the literal syntax in YAML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">actions:
  - generate:
      to:  hello.txt
      text: |
        This is a multi-line
        string using the literal syntax.
        It preserves the line breaks
        and indentation exactly as written.
        \t This is a tab character.
        \n This is a newline character.
        \\ This is a backslash.
        \u2713 This is a Unicode character (checkmark symbol).</code></pre>
</div>
</div>
<div class="paragraph">
<p>By using the | character followed by an indented block, the string is treated as a literal, and line breaks and indentation are preserved.</p>
</div>
</div>
<div class="sect2">
<h3 id="_external_file"><a class="anchor" href="#_external_file"></a>External file</h3>
<div class="paragraph">
<p>In some cases, it is diffiuclt to embed text using the literal syntax due to required escaping.
JSON files, regular expresssions, and file paths are common examples where such difficulties arise.
Additionally, you may want to edit the text content separately from the action file to leverage syntax highlighting and validation features of text editors.</p>
</div>
<div class="paragraph">
<p>To address these cases, you can use the from key to specify the source file for generating the text.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an example using the <code>from</code> key</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">actions:
  - generate:
      to:  hello.json
      from: json-template.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>to</code> key is relative to the director where the command is executed.</p>
</div>
<div class="paragraph">
<p>The file <code>json-template.json</code> is located in the same directory as the command, <code>.spring/commands/hello/create</code> and its contents are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "operatingSystem": "{{os-name}}",
  "phoneNumbers": [
    {
      "type": "iPhone",
      "number": "0123-4567-8888"
    },
    {
      "type": "home",
      "number": "0123-4567-8910"
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Executing <code>spring hello create</code> from the <a href="action-file-overview.html#_an_introductory_example" class="xref page">introductory example</a> produces the file <code>hello.json</code> as shown below</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">$ spring hello create
Generated /home/testing/rest-service/hello.json

$ cat hello.json</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "operatingSystem": "Linux",
  "phoneNumbers": [
    {
      "type": "iPhone",
      "number": "0123-4567-8888"
    },
    {
      "type": "home",
      "number": "0123-4567-8910"
    }
  ]
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_variable_replacement_in_keys"><a class="anchor" href="#_variable_replacement_in_keys"></a>Variable replacement in keys</h3>
<div class="paragraph">
<p>You can also use Handlebars template variables in the <code>to</code>, <code>from</code> and <code>text</code> keys.</p>
</div>
<div class="paragraph">
<p>Here is an example that uses Handlebars template variables in the <code>to</code> key.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">actions:
  - generate:
      to: src/main/java/{{root-package-dir}}/{{feature}}/{{capitalizeFirst feature}}Controller.java
      from: RestController.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information on predefined template engine variables, refer to the <a href="user-command-guide.html#_template_engine" class="xref page">Template Engine</a> section.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inject"><a class="anchor" href="#_inject"></a>Inject</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>inject</code> action is used to inject text into a file.</p>
</div>
<div class="paragraph">
<p>You need to define either the <code>after:</code> key or the <code>before:</code> to indicate the location where to inject the text.</p>
</div>
<div class="paragraph">
<p>Here is a sample file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">hello there
this is a test file
we are going to insert before the line that has the word marker1
marker2</code></pre>
</div>
</div>
<div class="paragraph">
<p>An <code>inject</code> action that will inject the text <code>INJECTED AFTER</code> after the line that contains the word <code>marker2</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">actions:
  - inject:
      to: sample.txt
      text: "INJECTED AFTER"
      after: marker2</code></pre>
</div>
</div>
<div class="paragraph">
<p>The text file after running this action is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">hello there
this is a test file
we are going to insert before the line that has the word marker1
marker2
INJECTED AFTER</code></pre>
</div>
</div>
<div class="paragraph">
<p>An <code>inject</code> action that will inject the text <code>INJECTED BEFORE</code> before the line that contains the word <code>marker1</code> is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">actions:
  - inject:
      to: sample.txt
      text: "INJECTED BEFORE"
      before: marker1</code></pre>
</div>
</div>
<div class="paragraph">
<p>The text file after running this action is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">hello there
this is a test file
INJECTED BEFORE
we are going to insert before the line that has the word marker1
marker2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exec"><a class="anchor" href="#_exec"></a>Exec</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>exec</code> action is used to execute a shell command.</p>
</div>
<div class="paragraph">
<p>The basic form to execute a shell command is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yam. hljs" data-lang="yam.">actions:
  - exec:
      command: mkdir {{tmp-dir}}/scratch</code></pre>
</div>
</div>
<div class="paragraph">
<p>The template engine variable <code>tmp-dir</code> is defined by default and is the value of the Java System Property <code>java.io.tmpdir</code>.</p>
</div>
<div class="sect2">
<h3 id="_redirecting_output"><a class="anchor" href="#_redirecting_output"></a>Redirecting output</h3>
<div class="paragraph">
<p>TBD</p>
</div>
</div>
<div class="sect2">
<h3 id="_executing_programs_and_defining_variables"><a class="anchor" href="#_executing_programs_and_defining_variables"></a>Executing Programs and Defining Variables</h3>
<div class="paragraph">
<p>To define a new variable in the Handlebars template engine model, you can execute a program and utilize its output.
The <code>define:</code> section within the <code>exec</code> action enables you to achieve this functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_raw_output"><a class="anchor" href="#_using_raw_output"></a>Using Raw Output</h3>
<div class="paragraph">
<p>Consider the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">actions:
  - exec:
      command: echo 'from echo'
      define:
        name: message
  - generate:
      to:  hello.txt
      text: Hello {{message}}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the output from the <code>echo</code> command, which is <code>from echo</code>, is assigned to the Handlebars template variable <code>message</code>.
In the next action, the template variable <code>message</code> is utilized to generate the file <code>hello.txt</code> with the contents <code>Hello from echo</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_processing_using_json_path"><a class="anchor" href="#_processing_using_json_path"></a>Processing using JSON Path</h3>
<div class="paragraph">
<p>By including the <code>jsonPath:</code> key, you can define a JSON Path expression to select specific content from the JSON-formatted output.
JSON is a common output format in many command line utilities.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s is an example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">actions:
  - exec:
      command-file: echo-command.txt
      define:
        name: phone-type
        jsonPath: $.phoneNumbers[:1].type</code></pre>
</div>
</div>
<div class="paragraph">
<p>The contents of the <code>echo-command.txt</code> file are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">echo '{ "firstName": "John", "lastName": "doe", "age": 26, "address": { "streetAddress": "naist street", "city": "Nara", "postalCode": "630-0192" }, "phoneNumbers": [ { "type": "iPhone", "number": "0123-4567-8888" }, { "type": "home", "number": "0123-4567-8910" } ] }'</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the variable named <code>phone-type</code> will be defined as the output from applying the <a href="https://github.com/json-path/JsonPath">JSON Path expression</a> to the command&#8217;s output.
Although a simple <code>echo</code> of JSON is used in this example, in a more practical scenario, it could be the output of a command line utility.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inject_maven_dependency"><a class="anchor" href="#_inject_maven_dependency"></a>Inject Maven Dependency</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>inject-maven-dependency</code> action is used to inject Maven dependency entries into your Maven pom.xml file.</p>
</div>
<div class="paragraph">
<p>You can use Handlebars template variables inside the <code>text:</code> field, and they will be replaced.</p>
</div>
<div class="paragraph">
<p>The basic form to inject a Maven dependency is</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">actions:
  - inject-maven-dependency:
      text: |
        &lt;dependency&gt;
          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
          &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
          &lt;groupId&gt;com.h2database&lt;/groupId&gt;
          &lt;artifactId&gt;h2&lt;/artifactId&gt;
          &lt;scope&gt;runtime&lt;/scope&gt;
        &lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inject_maven_dependency_management"><a class="anchor" href="#_inject_maven_dependency_management"></a>Inject Maven Dependency Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>inject-maven-dependency-management</code> action is used to inject Maven dependency management entries into your Maven pom.xml file.</p>
</div>
<div class="paragraph">
<p>You can use Handlebars template variables inside the <code>text:</code> field, and they will be replaced.</p>
</div>
<div class="paragraph">
<p>The basic form to inject a Maven dependency is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">actions:
  - inject-maven-dependency-management:
      text: |
        &lt;dependency&gt;
          &lt;groupId&gt;org.springframework.modulith&lt;/groupId&gt;
          &lt;artifactId&gt;spring-modulith-bom&lt;/artifactId&gt;
          &lt;version&gt;0.6.0.RELEASE&lt;/version&gt;
          &lt;scope&gt;import&lt;/scope&gt;
          &lt;type&gt;pom&lt;/type&gt;
        &lt;/dependency&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inject_maven_repository"><a class="anchor" href="#_inject_maven_repository"></a>Inject Maven Repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>inject-maven-repository</code> action is used to inject Maven repository entries into your Maven pom.xml file.</p>
</div>
<div class="paragraph">
<p>You can use Handlebars template variables inside the <code>text:</code> field, and they will be replaced.</p>
</div>
<div class="paragraph">
<p>The basic form to inject a Maven repository is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">actions:
  - inject-maven-repository:
      text: |
        &lt;repository&gt;
          &lt;id&gt;spring-snapshots&lt;/id&gt;
          &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;
        &lt;/repository&gt;</code></pre>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="action-file-overview.html">Overview of Action Files</a></span>
  <span class="next"><a href="readme-command-guide.html">Guide to README commands</a></span>
</nav>
</article>
</div>  </div>
</main>
</div>
<footer class="footer flex">
    <div id="spring-links flex">
        <img id="springlogo" src="../_/img/spring-logo.svg" alt="Spring">
        <p class="smallest antialiased">© <script>var d = new Date();
        document.write(d.getFullYear());</script> <a href="https://www.vmware.com/">VMware</a>, Inc. or its affiliates. <a href="https://www.vmware.com/help/legal.html">Terms of Use</a> • <a href="https://www.vmware.com/help/privacy.html" rel="noopener noreferrer">Privacy</a> • <a href="https://spring.io/trademarks">Trademark Guidelines</a> <span id="thank-you-mobile">• <a href="https://spring.io/thank-you">Thank you</a></span> • <a href="https://www.vmware.com/help/privacy/california-privacy-rights.html">Your California Privacy Rights</a> • <a class="ot-sdk-show-settings">Cookie Settings</a> <span id="teconsent"></span></p>
        <p class="smallest antialiased has-gray-text">Apache®, Apache Tomcat®, Apache Kafka®, Apache Cassandra&trade;, and Apache Geode&trade; are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java&trade;, Java&trade; SE, Java&trade; EE, and OpenJDK&trade; are trademarks of Oracle and/or its affiliates. Kubernetes® is a registered trademark of the Linux Foundation in the United States and other countries. Linux® is the registered trademark of Linus Torvalds in the United States and other countries. Windows® and Microsoft® Azure are registered trademarks of Microsoft Corporation. “AWS” and “Amazon Web Services” are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.</p>
    </div>
    <div id="social-icons" class="flex jc-between">
        <a href="https://www.youtube.com/user/SpringSourceDev" title="Youtube"><svg id="youtube-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle class="cls-1" cx="20" cy="20" r="20"/><path class="cls-2" d="M30.91,14.53a2.89,2.89,0,0,0-2-2C27.12,12,20,12,20,12s-7.12,0-8.9.47a2.9,2.9,0,0,0-2,2A30.56,30.56,0,0,0,8.63,20a30.44,30.44,0,0,0,.46,5.47,2.89,2.89,0,0,0,2,2C12.9,28,20,28,20,28s7.12,0,8.9-.47a2.87,2.87,0,0,0,2-2A30.56,30.56,0,0,0,31.37,20,28.88,28.88,0,0,0,30.91,14.53ZM17.73,23.41V16.59L23.65,20Z"/></svg></a>
        <a href="https://github.com/spring-projects" title="Github"><svg id="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><path class="cls-1" d="M38,0a38,38,0,1,0,38,38A38,38,0,0,0,38,0Z"/></g><path class="cls-2" d="M38,15.59A22.95,22.95,0,0,0,30.71,60.3c1.15.21,1.57-.5,1.57-1.11s0-2,0-3.9c-6.38,1.39-7.73-3.07-7.73-3.07A6.09,6.09,0,0,0,22,48.86c-2.09-1.42.15-1.39.15-1.39a4.81,4.81,0,0,1,3.52,2.36c2,3.5,5.37,2.49,6.67,1.91a4.87,4.87,0,0,1,1.46-3.07c-5.09-.58-10.45-2.55-10.45-11.34a8.84,8.84,0,0,1,2.36-6.15,8.29,8.29,0,0,1,.23-6.07s1.92-.62,6.3,2.35a21.82,21.82,0,0,1,11.49,0c4.38-3,6.3-2.35,6.3-2.35a8.29,8.29,0,0,1,.23,6.07,8.84,8.84,0,0,1,2.36,6.15c0,8.81-5.37,10.75-10.48,11.32a5.46,5.46,0,0,1,1.56,4.25c0,3.07,0,5.54,0,6.29s.42,1.33,1.58,1.1A22.94,22.94,0,0,0,38,15.59Z"/></svg></a>
        <a href="https://twitter.com/springcentral" title="Twitter"><svg id="twitter-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93"><circle class="cls-1" cx="37.97" cy="37.97" r="37.97"/><path id="Twitter-2" data-name="Twitter" class="cls-2" d="M55.2,22.73a15.43,15.43,0,0,1-4.88,1.91,7.56,7.56,0,0,0-5.61-2.49A7.78,7.78,0,0,0,37,30a7.56,7.56,0,0,0,.2,1.79,21.63,21.63,0,0,1-15.84-8.23,8,8,0,0,0,2.37,10.52,7.66,7.66,0,0,1-3.48-1v.09A7.84,7.84,0,0,0,26.45,41a7.54,7.54,0,0,1-2,.28A7.64,7.64,0,0,1,23,41.09a7.71,7.71,0,0,0,7.18,5.47,15.21,15.21,0,0,1-9.55,3.37,15.78,15.78,0,0,1-1.83-.11,21.41,21.41,0,0,0,11.78,3.54c14.13,0,21.86-12,21.86-22.42,0-.34,0-.68,0-1a15.67,15.67,0,0,0,3.83-4.08,14.9,14.9,0,0,1-4.41,1.24A7.8,7.8,0,0,0,55.2,22.73Z"/></svg></a>
    </div>
</footer>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script async src="../_/js/vendor/spring-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>
  </body>
</html>
